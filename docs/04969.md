# PowerShell 字符串数组

> 原文:[https://www.educba.com/powershell-array-of-strings/](https://www.educba.com/powershell-array-of-strings/)

![PowerShell Array of Strings](../Images/ce139c7e3d0c8191ee81558348012f30.png)

<noscript><img class="alignnone size-full wp-image-473830" src="../Images/ce139c7e3d0c8191ee81558348012f30.png" alt="PowerShell Array of Strings" width="900" height="500" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/PowerShell-Array-of-Strings.jpg 900w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/PowerShell-Array-of-Strings-300x167.jpg 300w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/PowerShell-Array-of-Strings-768x427.jpg 768w" sizes="(max-width: 900px) 100vw, 900px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/PowerShell-Array-of-Strings.jpg"/></noscript>

## PowerShell 字符串数组的定义

PowerShell 字符串数组是字符串对象的集合，即多个字符串驻留在同一个集合中，可以使用 String[]、@()或 ArrayList 进行声明，并且可以以各种方式使用，如函数、在文件内容中作为变量，并且可以对字符串数组执行多种操作，如拆分、连接、修剪、ToUpper、ToLower 等。

**语法:**

<small>Hadoop、数据科学、统计学&其他</small>

很少使用方法来声明 PowerShell 字符串数组。

**使用变量声明作为数据类型。**

`[String[]]`

**使用空数组声明**

`$str = @()`

**使用数组列表。**

`[System.Collections.Arraylist]@()`

### 如何在 PowerShell 中创建字符串数组？

如上面的语法所示，我们可以利用这些方法来创建字符串数组。
要创建一个字符串数组，我们可以声明变量名。

`[String[]]$var = "PowerShell", "String", "Array"`

另一种方法是使用@()创建。

`$strarry = @("PowerShell", "String", "Array")`

另一种方法是创建 system.collections.arraylist 类方法，如下所示。

`New-Object -TypeName System.Collections.ArrayList
$arrlist = [System.Collections.ArrayList]@("PowerShell", "String", "Array")
$arrlist`

### PowerShell 中的字符串数组是如何工作的？

当我们只声明单个字符串时，它可以表示如下。

`$str = "This is a PowerShell String"
$str`

**输出:**

![Powershell 1](../Images/3a3940a612cade1fb369a1acd0830d04.png)

<noscript><img class="alignnone size-full wp-image-473559" src="../Images/3a3940a612cade1fb369a1acd0830d04.png" alt="Powershell 1" width="417" height="58" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/Powershell-1-2.png 417w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/Powershell-1-2-300x42.png 300w" sizes="(max-width: 417px) 100vw, 417px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/Powershell-1-2.png"/></noscript>

当我们检查它的数据类型时，它是字符串类型。

`$str.GetType()`

![Powershell 2](../Images/7b631d8d8a41169500ad64afe40b1a2d.png)

<noscript><img class="alignnone size-full wp-image-473561" src="../Images/7b631d8d8a41169500ad64afe40b1a2d.png" alt="Powershell 2" width="625" height="102" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/Powershell-2-2.png 625w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/Powershell-2-2-300x49.png 300w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/Powershell-2-2-620x102.png 620w" sizes="(max-width: 625px) 100vw, 625px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/Powershell-2-2.png"/></noscript>

可以检查 typeName 是字符串，BaseType 是系统。对象。

当我们添加多个字符串时

`$str = "This is a PowerShell String", "This is a second string"
$str`

**输出:**

![Powershell 3](../Images/3af0014434c97041cbe72d82a618d930.png)

<noscript><img class="alignnone size-full wp-image-473562" src="../Images/3af0014434c97041cbe72d82a618d930.png" alt="Powershell 3" width="621" height="91" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/Powershell-3-1.png 621w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/Powershell-3-1-300x44.png 300w" sizes="(max-width: 621px) 100vw, 621px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/Powershell-3-1.png"/></noscript>

此变量的数据类型。

`$str.GetType()`

![Datatype](../Images/cffd3c9a667771ab9c4558301306f014.png)

<noscript><img class="alignnone size-full wp-image-473563" src="../Images/cffd3c9a667771ab9c4558301306f014.png" alt="Datatype" width="622" height="60" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/Datatype.png 622w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/Datatype-300x29.png 300w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/Datatype-620x60.png 620w" sizes="(max-width: 622px) 100vw, 622px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/Datatype.png"/></noscript>

您可以看到类型被转换为 Object[]，基类型被转换为 system . array。Object[]array 意味着它可以接受多个字符串。

**字符串数组索引**

为了检查我们输入的字符串的长度，

`$str.Length`

![str length](../Images/8c4692a306f7ac02501df9976687b9d6.png)

<noscript><img class="alignnone size-full wp-image-473564" src="../Images/8c4692a306f7ac02501df9976687b9d6.png" alt="str length" width="609" height="49" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/str-length.png 609w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/str-length-300x24.png 300w" sizes="(max-width: 609px) 100vw, 609px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/str-length.png"/></noscript>

当您声明字符串数组时，它的长度为 0。

`[String[]]$strarry
$strarry.Length`

或者

`$strarry = @()
$strarry.Length`

**输出:**

![str length 1](../Images/bb9ddc95e5950ad4bb54bf9bf46cfb26.png)

<noscript><img class="alignnone size-full wp-image-473565" src="../Images/bb9ddc95e5950ad4bb54bf9bf46cfb26.png" alt="str length 1" width="329" height="132" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/str-length-1.png 329w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/str-length-1-300x120.png 300w" sizes="(max-width: 329px) 100vw, 329px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/str-length-1.png"/></noscript>

一旦我们添加了条目，它们的长度就会增加，实际上，它在索引部分起作用。每次我们将条目添加到字符串数组中，它的索引就增加 1，并从 0 开始。

`[String[]]$str = "First String", "Second String", "Third String"
Write-Output "0th Index: $($str[0])"
Write-Output "2nd Index: $($str[1])"`

**输出:**

![index](../Images/20f8b3fa3be56063f04dc387e883c566.png)

<noscript><img class="alignnone size-full wp-image-473566" src="../Images/20f8b3fa3be56063f04dc387e883c566.png" alt="index" width="623" height="96" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/index.png 623w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/index-300x46.png 300w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/index-620x96.png 620w" sizes="(max-width: 623px) 100vw, 623px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/index.png"/></noscript>

显然，不存在的索引不会得到任何输出，或者会抛出一个异常，比如 index 4 不存在，所以$Str[4]不会给出任何输出。

![str 4](../Images/f1e596a208e72d39649aa736ba8ed66a.png)

<noscript><img class="alignnone size-full wp-image-473568" src="../Images/f1e596a208e72d39649aa736ba8ed66a.png" alt="str 4" width="179" height="57" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/str-4.png"/></noscript>

**这里——字符串方法——没用**

该字符串也可以用 Hare-String 方法声明。这个方法是一个自由文本格式，我们可以在 Here-String 方法中输入任意数量的字符串，但是让我们看看它是只有一个字符串还是字符串数组。

`$hashstr = @'
First String
Second String
Third String
'@`

上面的$hashstr 给出了三个字符串作为输出。

![output](../Images/670706d747a1709d48ca67383d9584e3.png)

<noscript><img class="alignnone size-full wp-image-473567" src="../Images/670706d747a1709d48ca67383d9584e3.png" alt="output" width="174" height="71" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/output-6.png"/></noscript>

当我们检查它的长度时，

`$hashstr.Length`

**输出:**

![hashtr](../Images/aa142c0e5808b8401c246f4dc2c33fb2.png)

<noscript><img class="alignnone size-full wp-image-473569" src="../Images/aa142c0e5808b8401c246f4dc2c33fb2.png" alt="hashtr" width="230" height="39" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/hashtr.png"/></noscript>

它没有给出长度 3，但是它计算了这个词的意思，这里的字符串不能被认为是一个字符串数组，而是一个字符串。见下面的证明。

`$hashstr.Count`

**输出:**

总计数为 1 意味着它被视为单个字符串。

![hashtr count](../Images/6803e90eddd6549b59520e1969acb2f4.png)

<noscript><img class="alignnone size-full wp-image-473570" src="../Images/6803e90eddd6549b59520e1969acb2f4.png" alt="hashtr count" width="243" height="49" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/hashtr-count.png"/></noscript>

### 字符串数组支持的方法

当我们需要对字符串数组执行各种操作时，我们总是需要检查操作支持哪些方法。

一旦我们创建了一个字符串数组，我们可以使用下面的命令来查找方法。

`$str | Get-Member -MemberType Method`

![String array](../Images/95a3ca80513a21837334525bf30fbdb8.png)

<noscript><img class="alignnone size-full wp-image-473768" src="../Images/95a3ca80513a21837334525bf30fbdb8.png" alt="String array" width="624" height="315" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/String-array.jpg 624w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/String-array-300x151.jpg 300w" sizes="(max-width: 624px) 100vw, 624px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/String-array.jpg"/></noscript>

**获取内容方法**

当您使用 Get-Content 命令检索任何文件内容时，它会自动转换为系统数组。例如，我们在 C:\temp 位置存储了一个名为 Test.txt 的文本文件。我们将检查它的数据类型，

`$file = Get-Content C:\Temp\test.txt
$file.GetType()`

**输出:**

![get content](../Images/cfd949d39556b44fc717a3f6b9194ea1.png)

<noscript><img class="alignnone size-full wp-image-473770" src="../Images/cfd949d39556b44fc717a3f6b9194ea1.png" alt="get content" width="622" height="127" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/get-content.png 622w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/get-content-300x61.png 300w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/get-content-620x127.png 620w" sizes="(max-width: 622px) 100vw, 622px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/get-content.png"/></noscript>

### 例子

让我们讨论 PowerShell 字符串数组的例子。

#### 示例#1:向数组字符串添加值。

我们可以使用

`$str = @("PowerShell", "Azure", "AZ Module")`

我们有了上面的字符串数组，要将值添加到字符串数组中，

`$str += "DevOps"
$str += "PowerCLI"
$str`

**输出:**

![example 1](../Images/e3b0ac850e9a44c3b40015f350619a35.png)

<noscript><img class="alignnone size-full wp-image-473771" src="../Images/e3b0ac850e9a44c3b40015f350619a35.png" alt="example 1" width="506" height="174" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-1.png 506w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-1-300x103.png 300w" sizes="(max-width: 506px) 100vw, 506px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-1.png"/></noscript>

#### 示例 2:使用 PowerShell 更改字符串数组的大小写。

您可以将字符串数组改为大写或小写，为此，您需要使用 ToUpper()或 ToLower()

`$str = @("PowerShell", "Azure", "AZ Module")
$str.toUpper()
$str.toLower()`

**输出:**

![example 2](../Images/cc3b728cf2cda7c502d37d99051e01e0.png)

<noscript><img class="alignnone size-full wp-image-473774" src="../Images/cc3b728cf2cda7c502d37d99051e01e0.png" alt="example 2" width="512" height="174" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-2-5.png 512w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-2-5-300x102.png 300w" sizes="(max-width: 512px) 100vw, 512px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-2-5.png"/></noscript>

#### 示例 3:使用 String ArrayList 方法向数组中添加值。

当我们声明一个简单的字符串数组时，我们不能使用 add()或 remove()来添加或删除数组中的值，因为它是用固定大小创建的。请参见下面的示例。

`$str = @("PowerShell", "Azure", "AZ Module")
$str.Add("PowerCLI")`

**输出:**

![example 3-1](../Images/db075bd988b4d6326f973832b1eb8b49.png)

<noscript><img class="alignnone size-full wp-image-473777" src="../Images/db075bd988b4d6326f973832b1eb8b49.png" alt="example 3-1" width="620" height="133" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-3-1-3.png 620w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-3-1-3-300x64.png 300w" sizes="(max-width: 620px) 100vw, 620px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-3-1-3.png"/></noscript>

要检查字符串数组是否是固定大小的，

`$str.IsFixedSize`

**输出:**

![example 3](../Images/ac08ac549161c0dbf5aa0ee218b7c4c6.png)

<noscript><img class="alignnone size-full wp-image-473775" src="../Images/ac08ac549161c0dbf5aa0ee218b7c4c6.png" alt="example 3" width="234" height="47" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-3-8.png"/></noscript>

为了解决上述问题，我们可以使用字符串的 ArrayList，而不是创建一个固定大小的数组。

`New-Object -TypeName System.Collections.ArrayList
$arrlist = [System.Collections.Arraylist]@("PowerShell", "Azure")
$arrlist.Add("PowerCLI")
$arrlist.Add("DevOps")`

**输出:**

![example 4](../Images/28e0016c3f97c239098b8fdd8c9f152a.png)

<noscript><img class="alignnone size-full wp-image-473778" src="../Images/28e0016c3f97c239098b8fdd8c9f152a.png" alt="example 4" width="166" height="96" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-4-6.png"/></noscript>

要从数组列表中移除该值，

`$arrlist.Remove("Azure")
$arrlist`

**输出:**

![example 4-1](../Images/b5a9e00a161f1b1add82ef3c3f759df9.png)

<noscript><img class="alignnone size-full wp-image-473780" src="../Images/b5a9e00a161f1b1add82ef3c3f759df9.png" alt="example 4-1" width="326" height="79" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-4-1-3.png 326w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-4-1-3-300x73.png 300w" sizes="(max-width: 326px) 100vw, 326px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-4-1-3.png"/></noscript>

#### 例 4:检查字符串数组是否包含特定的字符串。

我们需要使用 Contains()方法来检查字符串数组是否包含任何特定的字符串。

`$str = @("PowerShell", "Azure", "AZ Module", "DevOps", "AzCLI")
$str.Contains("Azure")
$str.Contains("Dev")`

**输出:**

![example 5](../Images/8074ca2c714a6b78772f7505b30c8b4e.png)

<noscript><img class="alignnone size-full wp-image-473782" src="../Images/8074ca2c714a6b78772f7505b30c8b4e.png" alt="example 5" width="623" height="87" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-5-2.png 623w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-5-2-300x42.png 300w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-5-2-620x87.png 620w" sizes="(max-width: 623px) 100vw, 623px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/example-5-2.png"/></noscript>

通配符不支持这种方法。

`$str.Contains("*Module*")
False`

#### 示例 5:使用 Select-String 命令从字符串数组中进行搜索。

当我们处理字符串数组格式的文件时，如果我们需要从该文件中检索特定的行或匹配的行，我们可以使用如下所示的 Select-String 方法。

`$file = Get-Content C:\Temp\test.txt
$file
$file | Select-String -Pattern "new"
$file | Select-String -Pattern "line"`

**输出:**

![select string](../Images/80a00c34d66119956b6a2cac7e092cb7.png)

<noscript><img class="alignnone size-full wp-image-473784" src="../Images/80a00c34d66119956b6a2cac7e092cb7.png" alt="select string" width="437" height="167" srcset="https://cdn.educba.com/academy/wp-content/uploads/2021/04/select-string.png 437w, https://cdn.educba.com/academy/wp-content/uploads/2021/04/select-string-300x115.png 300w" sizes="(max-width: 437px) 100vw, 437px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2021/04/select-string.png"/></noscript>

### 结论

PowerShell 字符串数组在自动化工程师的日常生活中非常有用，我们需要在脚本中使用它来操作项目、从字符串中检索特定数据、替换数据以及以文本格式存储命令输出。

### 推荐文章

这是一个 PowerShell 字符串数组的指南。这里我们讨论定义、语法和参数，字符串数组在 PowerShell 中是如何工作的？代码实现示例。您也可以看看以下文章，了解更多信息–

1.  [PowerShell 多行字符串](https://www.educba.com/powershell-multiline-string/)
2.  [PowerShell 批处理文件](https://www.educba.com/powershell-batch-file/)
3.  [PowerShell do while](https://www.educba.com/powershell-do-while/)
4.  [PowerShell 字典](https://www.educba.com/powershell-dictionary/)

<footer class="entry-footer">

<aside class="sidebar sidebar-primary widget-area" role="complementary" aria-label="Primary Sidebar">Primary Sidebar</aside>

</footer>