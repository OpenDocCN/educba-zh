# MySQL 平均值

> 原文:[https://www.educba.com/mysql-average/](https://www.educba.com/mysql-average/)

![MySQL Average](../Images/4d4189f263735223fb89de57eebc82b0.png)

<noscript><img class="alignnone size-full wp-image-392178" src="../Images/4d4189f263735223fb89de57eebc82b0.png" alt="MySQL Average" width="900" height="500" srcset="https://cdn.educba.com/academy/wp-content/uploads/2020/07/psd-9-4-2-10-1.jpg 900w, https://cdn.educba.com/academy/wp-content/uploads/2020/07/psd-9-4-2-10-1-300x167.jpg 300w, https://cdn.educba.com/academy/wp-content/uploads/2020/07/psd-9-4-2-10-1-768x427.jpg 768w" sizes="(max-width: 900px) 100vw, 900px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/psd-9-4-2-10-1.jpg"/></noscript>

## MySQL 平均值介绍

为了找到一个字段在不同记录中的平均值，我们使用 MySQL Average。通过使用“Group by”子句，我们可以求出一列记录的平均值。MySQL AVG()函数是一个聚合函数，允许您计算列值的平均值。要计算一列中不同值的平均值，我们可以使用“distinct”运算符。AVG 函数将忽略“空”值。

AVG 函数可以用在子查询中。它也可以和控制流函数一起使用，比如 IF、IFNULL、NULLIF 和 CASE。

<small>Hadoop、数据科学、统计学&其他</small>

**语法:**

`SELECT AVG(EXPRESSION) FROM <TABLE_NAME>;`

上面是平均函数的语法。average 函数返回 INT 数据类型的数据。

### MySQL 平均如何工作？

现在让我们创建一个表，对该列执行 average 函数并检索数据。

**查询:**

`create table Freelancer_data
(
Freelancer_id INT,
Freelancer_Name VARCHAR(20),
Type_of_work VARCHAR(30),
No_of_submission INT,
No_of_pages_submitted INT,
EMAIL varchar(30)
);`

#### 1.将数据插入表格

**查询:**

`insert into freelancer_data values (1278,'Jack','Typist', 2, 300,'jack12@gmail.com');
insert into freelancer_data values (2278,'Will','Artical Writer', 3, 450,'will@gmail.com');
insert into freelancer_data values (3278,'Rose','Artical Writer', 3, 540,'rose34@gmail.com');
insert into freelancer_data values (4278,'Ben','Typist', 3, 860,'ben@gmail.com');
insert into freelancer_data values (5278,'Stuart','Typist', 5, 600,'stuart12@gmail.com');
insert into freelancer_data values (6278,'Rample','Artical Writer', 6, 900,'rample12@gmail.com');
insert into freelancer_data values (7278,'Jackern','Typist', 3, 700,'jackern12@gmail.com');
insert into freelancer_data values (8278,'fred','Artical Writer', 2, 300,'fred12@gmail.com');
insert into freelancer_data values (9278,'Gram','Artical Writer', 9, 400,'gram12@gmail.com');`

#### 2.从表中选择数据

**查询:**

`select * from freelancer_data;`

**输出:**

![MySQL Average Example 1](../Images/06c0ec9f19371018dde04bb3ce66e253.png)

<noscript><img class="alignnone size-full wp-image-391212" src="../Images/06c0ec9f19371018dde04bb3ce66e253.png" alt="MySQL Average Example 1" width="579" height="135" srcset="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-1.png 579w, https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-1-300x70.png 300w" sizes="(max-width: 579px) 100vw, 579px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-1.png"/></noscript>

#### 3.现在让我们来看看自由职业者提交的平均页数

**查询:**

`select AVG(No_of_pages_submitted) as "Average papers submitted" from freelancer_data;`

**输出:**

![MySQL Average Example 2](../Images/c2290304357171cd301533a04c1853f5.png)

<noscript><img class="alignnone size-full wp-image-391211" src="../Images/c2290304357171cd301533a04c1853f5.png" alt="MySQL Average Example 2" width="225" height="47" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-2.png"/></noscript>

现在让我们使用“GROUP BY”子句，根据工作类型找到自由职业者提交的平均页数:

**查询:**

`select AVG(No_of_pages_submitted) as "Average papers submitted", Type_of_work from freelancer_data group by 2;`

**输出:**

![MySQL Average Example 3](../Images/9ace5405e1dd7c743fbd41124b27fbab.png)

<noscript><img class="alignnone size-full wp-image-391210" src="../Images/9ace5405e1dd7c743fbd41124b27fbab.png" alt="MySQL Average Example 3" width="339" height="63" srcset="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-3.png 339w, https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-3-300x56.png 300w" sizes="(max-width: 339px) 100vw, 339px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-3.png"/></noscript>

或者

**查询:**

`select AVG(No_of_pages_submitted) as "Average papers submitted", Type_of_work from freelancer_data group by Type_of_work;`

**输出:**

![MySQL Average Example 4](../Images/f78e180f61c533539f266c2b5154f1a2.png)

<noscript><img class="alignnone size-full wp-image-391209" src="../Images/f78e180f61c533539f266c2b5154f1a2.png" alt="MySQL Average Example 4" width="342" height="64" srcset="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-4.png 342w, https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-4-300x56.png 300w" sizes="(max-width: 342px) 100vw, 342px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-4.png"/></noscript>

#### 4.将 AVG()与“HAVING”从句一起使用

为了给平均值的输出设置条件，我们使用了“HAVING”子句。

**查询:**

`select AVG(No_of_pages_submitted) as "Average papers submitted", Type_of_work
from freelancer_data
group by 2
having AVG(No_of_pages_submitted) > 600;`

或者

**查询:**

`select AVG(No_of_pages_submitted) as "Average papers submitted", Type_of_work
from freelancer_data
group by Type_of_work
having AVG(No_of_pages_submitted) > 600;`

**输出:**

![MySQL Average Example 5](../Images/17976a53eb8ce3dd9fad9f7f740d9be7.png)

<noscript><img class="alignnone size-full wp-image-391208" src="../Images/17976a53eb8ce3dd9fad9f7f740d9be7.png" alt="MySQL Average Example 5" width="326" height="47" srcset="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-5.png 326w, https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-5-300x43.png 300w" sizes="(max-width: 326px) 100vw, 326px" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-5.png"/></noscript>

#### 5.将 AVG()用于子查询

在这个子查询中，我们基于“工作类型”来查找平均值。外部查询获取内部查询输出的平均值。

**查询:**

`SELECT
AVG(AVG_PAGES) as "average pages"/* Outer query*/
FROM
(select
AVG(NO_OF_PAGES_SUBMITTED) AS "AVG_PAGES" /* -- inner query --*/
from
freelancer_data
GROUP BY TYPE_OF_WORK) AVG;`

**输出:**

![SubQuery Example 6](../Images/fcc335378eff6dc3a02e53043cd636f3.png)

<noscript><img class="alignnone wp-image-391207 size-full" src="../Images/fcc335378eff6dc3a02e53043cd636f3.png" alt="SubQuery Example 6" width="145" height="51" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-6.png"/></noscript>

#### 6.将 AVG()用于控制功能

在这里，如果“提交次数”为 3，我们就可以找到提交页面的平均值，否则就认为是“空”。因为，AVG 忽略了空值。下面的输出是平均值，仅当提交次数=3 时。

**查询:**

`SELECT
AVG(IF(No_of_submission= 3,
No_of_pages_submitted,
NULL))/No_of_submission 'Avg pages'
FROM
freelancer_data;`

**输出:**

![Control Functions Example 6](../Images/025f3ce1ce90f375a05d3c6071e3ec11.png)

<noscript><img class="alignnone wp-image-391206 size-full" src="../Images/025f3ce1ce90f375a05d3c6071e3ec11.png" alt="Control Functions Example 6" width="133" height="46" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-7.png"/></noscript>

### 实现 MySQL 平均值的示例

现在让我们考虑下面的其他简单例子:

**查询:**

`create table sample_AVG
(
ID INT,
NAME VARCHAR(30),
DEPT_NO INT,
SALARY FLOAT(10,2)
);`

#### 1.将数据插入表格

**查询:**

`insert into SAMPLE_AVG values (1278,'Jack', 2, 90000);
insert into SAMPLE_AVG values (2278,'Will', 2, 80000);
insert into SAMPLE_AVG values (3278,'Rose', 3, 78000);
insert into SAMPLE_AVG values (4278,'Ben', 3, 45000);
insert into SAMPLE_AVG values (5278,'Stuart', 3, 67000);
insert into SAMPLE_AVG values (6278,'Rample', 4, 57000);
insert into SAMPLE_AVG values (7278,'Jackern', 4, 47000);
insert into SAMPLE_AVG values (8278,'fred', 4, 68000);
insert into SAMPLE_AVG values (9278,'Gram', 4,86000);`

**查询:**

`select * from SAMPLE_AVG;`

**输出:**

![MySQL Average Example 8](../Images/69a2b1a2a1a53d39df3aab61047e8251.png)

<noscript><img class="alignnone size-full wp-image-391205" src="../Images/69a2b1a2a1a53d39df3aab61047e8251.png" alt="MySQL Average Example 8" width="247" height="190" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-8.png"/></noscript>

#### 2.现在让我们从表格中找出工资的平均值

**查询:**

`select AVG(salary) as "Average salary" from sample_avg;`

**输出:**

![MySQL Average Example 9](../Images/fbb44de13a032b2b73b038a1e3dde3c0.png)

<noscript><img class="alignnone size-full wp-image-391204" src="../Images/fbb44de13a032b2b73b038a1e3dde3c0.png" alt="MySQL Average Example 9" width="151" height="49" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-9.png"/></noscript>

#### 3.现在让我们使用“GROUP BY”子句根据 DEPT_NO 找到平均工资

**查询:**

`select AVG(salary) as "Average salary", Dept_no from sample_avg group by 2; /* - - Position of the column - -*/`

**输出:**

![MySQL Average Example 10](../Images/8af548c070fd4abcf0b28ae5abbbe306.png)

<noscript><img class="alignnone size-full wp-image-391203" src="../Images/8af548c070fd4abcf0b28ae5abbbe306.png" alt="MySQL Average Example 10" width="212" height="82" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-10.png"/></noscript>

或者

**查询:**

`select AVG(salary) as "Average salary", Dept_no from sample_avg group by dept_no;`

**输出:**

![MySQL Average Example 11](../Images/d78e4cf54659287972e4662380960311.png)

<noscript><img class="alignnone size-full wp-image-391202" src="../Images/d78e4cf54659287972e4662380960311.png" alt="MySQL Average Example 11" width="211" height="84" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-11.png"/></noscript>

#### 4.将 AVG()与“HAVING”从句一起使用

为了给平均值的输出设置条件，我们使用了“HAVING”子句。

**查询:**

`select
AVG(salary) as "Average salary",
Dept_no from sample_avg
group by 2
having AVG(salary) > '65000'`

或者

**输出:**

![AVG() With “HAVING” Clause Example 12](../Images/e5d4626d092b8de710dc17cad44f93da.png)

<noscript><img class="alignnone wp-image-391201 size-full" src="../Images/e5d4626d092b8de710dc17cad44f93da.png" alt="AVG() With “HAVING” Clause Example 12" width="209" height="45" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-12.png"/></noscript>

**查询:**

`select
AVG(salary) as "Average salary",
Dept_no from sample_avg
group by dept_no
having AVG(salary) > '65000'`

**输出:**

![AVG() With “HAVING” Clause Example 13](../Images/850a45870132c5545b6e05fb35a8709b.png)

<noscript><img class="alignnone wp-image-391200 size-full" src="../Images/850a45870132c5545b6e05fb35a8709b.png" alt="AVG() With “HAVING” Clause Example 13" width="207" height="47" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-13.png"/></noscript>

#### 5.将 AVG()用于子查询

在这个子查询中，我们找到了基于“dept_no”的平均值。外部查询获取内部查询输出的平均值。

**查询:**

`SELECT
AVG(AVG_SAL) as "average salary"
FROM
(select
AVG(salary) as "Avg_sal",
Dept_no from sample_avg
group by 2
)AVG;`

**输出:**

![SubQuery Example 5](../Images/fa903ba112d2598f214c7b3ab5b3be1a.png)

<noscript><img class="alignnone wp-image-391199 size-full" src="../Images/fa903ba112d2598f214c7b3ab5b3be1a.png" alt="SubQuery Example 5" width="163" height="47" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-14.png"/></noscript>

#### 6.将 AVG()用于控制功能

在这里，如果“部门编号”为 3，则让我们找出工资的平均值，否则认为 4 为“空”。因为，AVG 忽略了空值，所以下面的输出是平均值，只有提交的计数是 3 和 4。

**查询:**

`SELECT
AVG(IF(DEPT_NO IN (3,4),
SALARY,
NULL))/COUNT(DEPT_NO) 'AVGSALARY'
FROM
SAMPLE_AVG;`

**输出:**

![Control Functions Example 6](../Images/fae975bbbf0f2ce2e752fe9bb62e6822.png)

<noscript><img class="alignnone wp-image-391198 size-full" src="../Images/fae975bbbf0f2ce2e752fe9bb62e6822.png" alt="Control Functions Example 6" width="157" height="47" data-original-src="https://cdn.educba.com/academy/wp-content/uploads/2020/07/MySQL-Average-Example-15.png"/></noscript>

### 结论

*   为了找到一个字段在不同记录中的平均值，我们使用 MySQL Average。通过使用“Group by”子句，我们可以求出一列记录的平均值。
*   MySQL AVG()函数是一个聚合函数，允许您计算列值的平均值。
*   要计算一列中不同值的平均值，我们可以使用“distinct”运算符。AVG 函数将忽略“空”值。
*   AVG 函数可以用在子查询中。它也可以和控制流函数一起使用，比如 IF、IFNULL、NULLIF 和 CASE。

### 推荐文章

这是一个 MySQL 平均指南。这里我们讨论 MySQL Average 的介绍和实际例子以及不同的子查询表达式。您也可以浏览我们推荐的文章，了解更多信息——

1.  [MySQL 操作符介绍](https://www.educba.com/mysql-operators/)
2.  [前 23 个 MySQL 字符串函数](https://www.educba.com/mysql-string-functions/)
3.  [MySQL 与 SQLite | 14 大对比](https://www.educba.com/mysql-vs-sqlite/)
4.  [MySQL 时间戳指南](https://www.educba.com/mysql-timestamp/)

<footer class="entry-footer">

<aside class="sidebar sidebar-primary widget-area" role="complementary" aria-label="Primary Sidebar">Primary Sidebar</aside>

</footer>